{"version":3,"sources":["../src/components/EmailEditor.tsx","../src/store/index.ts","../src/store/editorSlice.ts","../src/components/layout/Header.tsx","../src/components/ui/button.tsx","../src/lib/utils.ts","../src/components/ui/input.tsx","../src/components/ui/separator.tsx","../src/lib/export.ts","../src/components/layout/ToolsPanel.tsx","../src/components/tools/DraggableTool.tsx","../src/components/ui/card.tsx","../src/components/layout/PropertiesPanel.tsx","../src/components/ui/label.tsx","../src/components/editor/Canvas.tsx","../src/components/editor/CanvasElement.tsx","../src/components/editor/ColumnDropZone.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { store } from '@/store'; // Note: In a real lib, you might want props to override store\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Header } from '@/components/layout/Header';\nimport { ToolsPanel } from '@/components/layout/ToolsPanel';\nimport { PropertiesPanel } from '@/components/layout/PropertiesPanel';\nimport { Canvas } from '@/components/editor/Canvas';\n\nimport '@/app/globals.css'; // Ensure styles are included in build context if possible\n\nexport const EmailEditor = () => {\n    return (\n        <Provider store={store}>\n            <DndProvider backend={HTML5Backend}>\n                <div className=\"flex flex-col h-full w-full overflow-hidden bg-background text-foreground\">\n                    <Header />\n                    <div className=\"flex flex-1 overflow-hidden relative\">\n                        <ToolsPanel />\n                        <Canvas />\n                        <PropertiesPanel />\n                    </div>\n                </div>\n            </DndProvider>\n        </Provider>\n    );\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport editorReducer from './editorSlice';\n\nexport const store = configureStore({\n    reducer: {\n        editor: editorReducer,\n    },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { EditorElement, EditorState, CanvasSettings } from '@/lib/types';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst initialState: EditorState = {\n    elements: [],\n    selectedElementId: null,\n    canvasSettings: {\n        width: 600,\n        backgroundColor: '#ffffff',\n        fontFamily: 'Arial, sans-serif',\n        textColor: '#000000',\n        linkColor: '#007bff',\n        lineHeight: '1.5',\n    },\n    history: {\n        past: [],\n        future: [],\n    },\n};\n\nconst editorSlice = createSlice({\n    name: 'editor',\n    initialState,\n    reducers: {\n        undo: (state) => {\n            if (state.history.past.length > 0) {\n                const previous = state.history.past[state.history.past.length - 1];\n                const newPast = state.history.past.slice(0, -1);\n\n                state.history.future.unshift({\n                    elements: state.elements,\n                    selectedElementId: state.selectedElementId,\n                    canvasSettings: state.canvasSettings\n                });\n\n                state.elements = previous.elements;\n                state.selectedElementId = previous.selectedElementId;\n                state.canvasSettings = previous.canvasSettings;\n                state.history.past = newPast;\n            }\n        },\n        redo: (state) => {\n            if (state.history.future.length > 0) {\n                const next = state.history.future[0];\n                const newFuture = state.history.future.slice(1);\n\n                state.history.past.push({\n                    elements: state.elements,\n                    selectedElementId: state.selectedElementId,\n                    canvasSettings: state.canvasSettings\n                });\n\n                state.elements = next.elements;\n                state.selectedElementId = next.selectedElementId;\n                state.canvasSettings = next.canvasSettings;\n                state.history.future = newFuture;\n            }\n        },\n        addElement: (state, action: PayloadAction<{ type: EditorElement['type']; index?: number; parentId?: string; columnId?: string }>) => {\n            saveHistory(state);\n            const newElement: EditorElement = {\n                id: uuidv4(),\n                type: action.payload.type,\n                content: getDefaultContent(action.payload.type),\n                style: getDefaultStyle(action.payload.type),\n            };\n\n            const { parentId, columnId, index } = action.payload;\n\n            if (parentId && columnId) {\n                // Add to nested column\n                const parent = state.elements.find(el => el.id === parentId);\n                if (parent && (parent.type === 'columns' || parent.type === 'columns-3') && parent.content.columns) {\n                    const column = parent.content.columns.find(col => col.id === columnId);\n                    if (column) {\n                        column.elements.push(newElement);\n                    }\n                }\n            } else {\n                // Add to root\n                if (index !== undefined && index >= 0) {\n                    state.elements.splice(index, 0, newElement);\n                } else {\n                    state.elements.push(newElement);\n                }\n            }\n            state.selectedElementId = newElement.id;\n        },\n        updateElement: (state, action: PayloadAction<{ id: string; changes: Partial<EditorElement> }>) => {\n            saveHistory(state);\n            const index = state.elements.findIndex(el => el.id === action.payload.id);\n            if (index !== -1) {\n                state.elements[index] = { ...state.elements[index], ...action.payload.changes };\n            }\n        },\n        removeElement: (state, action: PayloadAction<string>) => {\n            saveHistory(state);\n            state.elements = state.elements.filter(el => el.id !== action.payload);\n            if (state.selectedElementId === action.payload) {\n                state.selectedElementId = null;\n            }\n        },\n        selectElement: (state, action: PayloadAction<string | null>) => {\n            // Selection changes do not save history\n            state.selectedElementId = action.payload;\n        },\n        moveElement: (state, action: PayloadAction<{ dragIndex: number; hoverIndex: number }>) => {\n            saveHistory(state);\n            const { dragIndex, hoverIndex } = action.payload;\n            const dragElement = state.elements[dragIndex];\n            state.elements.splice(dragIndex, 1);\n            state.elements.splice(hoverIndex, 0, dragElement);\n        },\n        updateCanvasSettings: (state, action: PayloadAction<Partial<CanvasSettings>>) => {\n            saveHistory(state);\n            state.canvasSettings = { ...state.canvasSettings, ...action.payload };\n        },\n    },\n});\n\nfunction saveHistory(state: EditorState) {\n    state.history.past.push({\n        elements: state.elements,\n        selectedElementId: state.selectedElementId,\n        canvasSettings: state.canvasSettings\n    });\n    state.history.future = []; // Clear future on new action\n}\n\nfunction getDefaultContent(type: EditorElement['type']) {\n    switch (type) {\n        case 'text': return { text: 'Edit this text' };\n        case 'button': return { label: 'Click Me', url: '#' };\n        case 'image': return { url: 'https://via.placeholder.com/300x200', alt: 'Placeholder' };\n        case 'divider': return {};\n        case 'social': return {\n            socialLinks: [\n                { network: 'facebook' as const, url: '#' },\n                { network: 'twitter' as const, url: '#' },\n                { network: 'instagram' as const, url: '#' }\n            ]\n        };\n        case 'columns': return {\n            columns: [\n                { id: uuidv4(), elements: [] },\n                { id: uuidv4(), elements: [] }\n            ]\n        };\n        case 'columns-3': return {\n            columns: [\n                { id: uuidv4(), elements: [] },\n                { id: uuidv4(), elements: [] },\n                { id: uuidv4(), elements: [] }\n            ]\n        };\n        default: return {};\n    }\n}\n\nfunction getDefaultStyle(type: EditorElement['type']) {\n    const base = { padding: '10px', margin: '0px' };\n    switch (type) {\n        case 'button': return { ...base, backgroundColor: '#007bff', color: '#ffffff', borderRadius: '4px', textAlign: 'center' as const, width: 'auto', display: 'inline-block' };\n        case 'image': return { ...base, width: '100%', textAlign: 'center' as const };\n        case 'spacer': return { ...base, height: '32px' };\n        case 'divider': return { ...base, borderTopWidth: '1px', borderTopColor: '#eeeeee', borderTopStyle: 'solid', paddingTop: '10px', paddingBottom: '10px' };\n        default: return base;\n    }\n}\n\nexport const { addElement, updateElement, removeElement, selectElement, moveElement, updateCanvasSettings, undo, redo } = editorSlice.actions;\nexport default editorSlice.reducer;\n","'use client';\nimport React from 'react';\nimport { Undo, Redo, Eye, Save, Download, Mail, ChevronDown } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Separator } from '@/components/ui/separator';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '@/store';\nimport { generateHtml } from '@/lib/export';\nimport { undo, redo } from '@/store/editorSlice';\n\nexport const Header = () => {\n    const dispatch = useDispatch();\n    const editorState = useSelector((state: RootState) => state.editor);\n    const { past, future } = editorState.history;\n\n    const handleUndo = () => dispatch(undo());\n    const handleRedo = () => dispatch(redo());\n\n    const handleExport = () => {\n        const html = generateHtml(editorState);\n        const blob = new Blob([html], { type: 'text/html' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'newsletter.html';\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    };\n\n    const handleSave = async () => {\n        try {\n            const response = await fetch('/api/templates', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    name: 'My Newsletter',\n                    data: editorState\n                })\n            });\n            if (response.ok) {\n                alert('Template saved successfully!');\n            } else {\n                alert('Failed to save template');\n            }\n        } catch (error) {\n            console.error('Save error:', error);\n            alert('Error saving template');\n        }\n    };\n\n    return (\n        <header className=\"h-16 border-b flex items-center justify-between px-6 sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n            <div className=\"flex items-center gap-4\">\n                <div className=\"flex items-center gap-2\">\n                    <div className=\"h-8 w-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground\">\n                        <Mail size={18} />\n                    </div>\n                    <span className=\"font-semibold text-lg tracking-tight\">MailBuilder</span>\n                </div>\n\n                <Separator orientation=\"vertical\" className=\"h-6 mx-2\" />\n\n                <Input\n                    type=\"text\"\n                    defaultValue=\"Untitled Newsletter\"\n                    className=\"border-transparent hover:border-input focus:border-input bg-transparent w-[200px] h-9 px-2 font-medium\"\n                />\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n                <div className=\"flex items-center mr-2\">\n                    <Button variant=\"ghost\" size=\"icon\" title=\"Undo\" onClick={handleUndo} disabled={past.length === 0}>\n                        <Undo size={16} className=\"text-muted-foreground\" />\n                    </Button>\n                    <Button variant=\"ghost\" size=\"icon\" title=\"Redo\" onClick={handleRedo} disabled={future.length === 0}>\n                        <Redo size={16} className=\"text-muted-foreground\" />\n                    </Button>\n                </div>\n\n                <Separator orientation=\"vertical\" className=\"h-6 mx-2\" />\n\n                <Button variant=\"ghost\" size=\"sm\" className=\"hidden sm:flex gap-2\">\n                    <Eye size={16} />\n                    Preview\n                </Button>\n\n                <Button variant=\"outline\" size=\"sm\" className=\"hidden sm:flex gap-2\" onClick={handleSave}>\n                    <Save size={16} />\n                    Save\n                </Button>\n\n                <Button size=\"sm\" className=\"gap-2\" onClick={handleExport}>\n                    <Download size={16} />\n                    Export\n                </Button>\n            </div>\n        </header>\n    );\n};\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n    {\n        variants: {\n            variant: {\n                default:\n                    \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n                destructive:\n                    \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n                outline:\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n                secondary:\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\n                link: \"text-primary underline-offset-4 hover:underline\",\n            },\n            size: {\n                default: \"h-9 px-4 py-2\",\n                sm: \"h-8 rounded-md px-3 text-xs\",\n                lg: \"h-10 rounded-md px-8\",\n                icon: \"h-9 w-9\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n            size: \"default\",\n        },\n    }\n)\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\n        return (\n            <button\n                className={cn(buttonVariants({ variant, size, className }))}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n    ({ className, type, ...props }, ref) => {\n        return (\n            <input\n                type={type}\n                className={cn(\n                    \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n                    className\n                )}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement> & { orientation?: \"horizontal\" | \"vertical\" }\n>(({ className, orientation = \"horizontal\", ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\n            \"shrink-0 bg-border\",\n            orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n            className\n        )}\n        {...props}\n    />\n))\nSeparator.displayName = \"Separator\"\n\nexport { Separator }\n","import { EditorState } from '@/lib/types';\n\nexport function generateHtml(state: EditorState): string {\n    const { elements, canvasSettings } = state;\n\n    return `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Newsletter</title>\n    <style>\n        a { color: ${canvasSettings.linkColor || '#007bff'}; text-decoration: underline; }\n    </style>\n</head>\n<body style=\"margin: 0; padding: 0; background-color: ${canvasSettings.backgroundColor}; font-family: ${canvasSettings.fontFamily}; color: ${canvasSettings.textColor || '#000000'}; line-height: ${canvasSettings.lineHeight || '1.5'};\">\n    <center>\n        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"${canvasSettings.width}\" style=\"background-color: #ffffff; margin-top: 20px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n            ${elements.map(el => {\n        const style = Object.entries(el.style).map(([k, v]) => `${k.replace(/[A-Z]/g, m => '-' + m.toLowerCase())}: ${v}`).join('; ');\n\n        let content = '';\n        switch (el.type) {\n            case 'text':\n                content = `<div style=\"${style}\">${el.content.text}</div>`;\n                break;\n            case 'button':\n                content = `\n                            <div style=\"text-align: ${el.style.textAlign || 'center'}; padding: ${el.style.padding || '10px'};\">\n                                <a href=\"${el.content.url}\" style=\"display: inline-block; background-color: ${el.style.backgroundColor}; color: ${el.style.color}; padding: 12px 24px; text-decoration: none; border-radius: ${el.style.borderRadius || '4px'}; font-weight: bold;\">\n                                    ${el.content.label}\n                                </a>\n                            </div>`;\n                break;\n            case 'image':\n                content = `\n                            <div style=\"text-align: ${el.style.textAlign || 'center'}; padding: 0;\">\n                                <img src=\"${el.content.url}\" alt=\"${el.content.alt || ''}\" style=\"max-width: 100%; height: auto; display: block; border: 0;\" />\n                            </div>`;\n                break;\n            case 'divider':\n                content = `<div style=\"padding: ${el.style.padding || '10px 0'};\">\n                    <hr style=\"border: 0; border-top: 1px solid ${el.style.borderTopColor || '#eeeeee'};\" />\n                </div>`;\n                break;\n            case 'spacer':\n                content = `<div style=\"height: ${el.style.height || '32px'}; line-height: ${el.style.height || '32px'}; font-size: 0;\">&nbsp;</div>`;\n                break;\n            case 'social':\n                content = `<div style=\"text-align: center; padding: 20px;\">\n                    ${(el.content.socialLinks || []).map(link =>\n                    `<a href=\"${link.url}\" style=\"display:inline-block; margin: 0 5px; color: ${el.style.color || '#374151'}; text-decoration: none;\">${link.network}</a>`\n                ).join('')}\n                </div>`;\n                break;\n            case 'columns':\n                content = `\n                    <table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                        <tr>\n                            <td width=\"50%\" valign=\"top\" style=\"padding: 10px;\">Column 1</td>\n                            <td width=\"50%\" valign=\"top\" style=\"padding: 10px;\">Column 2</td>\n                        </tr>\n                    </table>\n                `;\n                break;\n            case 'columns-3':\n                content = `\n                    <table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                        <tr>\n                            <td width=\"33.33%\" valign=\"top\" style=\"padding: 10px;\">Column 1</td>\n                            <td width=\"33.33%\" valign=\"top\" style=\"padding: 10px;\">Column 2</td>\n                            <td width=\"33.33%\" valign=\"top\" style=\"padding: 10px;\">Column 3</td>\n                        </tr>\n                    </table>\n                `;\n                break;\n        }\n\n        return `<tr><td align=\"center\">${content}</td></tr>`;\n    }).join('')}\n        </table>\n    </center>\n</body>\n</html>\n  `;\n}\n","'use client';\nimport React from 'react';\nimport { Type, Image, LayoutTemplate, MousePointerClick, Minus, Share2, Columns } from 'lucide-react';\nimport { DraggableTool } from '@/components/tools/DraggableTool';\nimport { Separator } from '@/components/ui/separator';\n\nexport const ToolsPanel = () => {\n    return (\n        <aside className=\"w-[280px] flex-shrink-0 border-r bg-background/50 flex flex-col h-full overflow-y-auto\">\n            <div className=\"p-6\">\n                <h3 className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-4\">\n                    Components\n                </h3>\n                <div className=\"grid grid-cols-2 gap-3\">\n                    <DraggableTool type=\"text\" label=\"Text\" icon={Type} />\n                    <DraggableTool type=\"image\" label=\"Image\" icon={Image} />\n                    <DraggableTool type=\"button\" label=\"Button\" icon={MousePointerClick} />\n                    <DraggableTool type=\"divider\" label=\"Divider\" icon={Minus} />\n                    <DraggableTool type=\"social\" label=\"Social\" icon={Share2} />\n                    <DraggableTool type=\"spacer\" label=\"Spacer\" icon={LayoutTemplate} />\n                </div>\n            </div>\n\n            <Separator />\n\n            <div className=\"p-6 bg-muted/30 flex-1\">\n                <h3 className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-4\">\n                    Layouts\n                </h3>\n                <div className=\"grid grid-cols-2 gap-3\">\n                    <DraggableTool type=\"columns\" label=\"2 Columns\" icon={Columns} />\n                    <DraggableTool type=\"columns-3\" label=\"3 Columns\" icon={Columns} />\n                </div>\n            </div>\n        </aside>\n    );\n};\n","'use client';\nimport React from 'react';\nimport { useDrag } from 'react-dnd';\nimport { ElementType } from '@/lib/types';\nimport { LucideIcon } from 'lucide-react';\nimport { Card } from '@/components/ui/card';\nimport { cn } from '@/lib/utils';\n\ninterface DraggableToolProps {\n    type: ElementType;\n    label: string;\n    icon: LucideIcon;\n}\n\nexport const DraggableTool: React.FC<DraggableToolProps> = ({ type, label, icon: Icon }) => {\n    const [{ isDragging }, drag] = useDrag(() => ({\n        type: 'ELEMENT',\n        item: { type },\n        collect: (monitor) => ({\n            isDragging: !!monitor.isDragging(),\n        }),\n    }));\n\n    return (\n        <Card\n            ref={drag as any}\n            className={cn(\n                \"flex flex-col items-center justify-center p-4 h-24 hover:border-primary/50 hover:shadow-md cursor-grab active:cursor-grabbing transition-all duration-200 select-none\",\n                isDragging && \"opacity-50 ring-2 ring-primary rotate-2 scale-95\"\n            )}\n        >\n            <div className=\"p-2 bg-muted rounded-full mb-2 group-hover:bg-primary/10 transition-colors\">\n                <Icon size={20} className=\"text-muted-foreground group-hover:text-primary\" />\n            </div>\n            <span className=\"text-xs font-medium text-foreground\">{label}</span>\n        </Card>\n    );\n};\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\n            \"rounded-xl border bg-card text-card-foreground shadow\",\n            className\n        )}\n        {...props}\n    />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n        {...props}\n    />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n    HTMLParagraphElement,\n    React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n    <h3\n        ref={ref}\n        className={cn(\"font-semibold leading-none tracking-tight\", className)}\n        {...props}\n    />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n    HTMLParagraphElement,\n    React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n    <p\n        ref={ref}\n        className={cn(\"text-sm text-muted-foreground\", className)}\n        {...props}\n    />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"flex items-center p-6 pt-0\", className)}\n        {...props}\n    />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","'use client';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '@/store';\nimport { updateElement, updateCanvasSettings } from '@/store/editorSlice';\nimport { Sliders, Type, Palette, Layout, Link as LinkIcon, Image as ImageIcon, AlignLeft, AlignCenter, AlignRight, AlignJustify } from 'lucide-react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Separator } from '@/components/ui/separator';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nexport const PropertiesPanel = () => {\n    const dispatch = useDispatch();\n    const { elements, selectedElementId, canvasSettings } = useSelector((state: RootState) => state.editor);\n\n    const selectedElement = elements.find(el => el.id === selectedElementId);\n\n    const handleStyleChange = (key: string, value: string) => {\n        if (!selectedElement) return;\n        dispatch(updateElement({\n            id: selectedElement.id,\n            changes: {\n                style: { ...selectedElement.style, [key]: value }\n            }\n        }));\n    };\n\n    const handleContentChange = (key: string, value: any) => {\n        if (!selectedElement) return;\n        dispatch(updateElement({\n            id: selectedElement.id,\n            changes: {\n                content: { ...selectedElement.content, [key]: value }\n            }\n        }));\n    };\n\n    const handleGlobalChange = (key: string, value: any) => {\n        dispatch(updateCanvasSettings({ [key]: value }));\n    };\n\n    const PropertySection = ({ title, icon: Icon, children }: { title: string, icon?: any, children: React.ReactNode }) => (\n        <div className=\"border-b last:border-0 border-border\">\n            <div className=\"px-6 py-4 flex items-center gap-2 bg-muted/20\">\n                {Icon && <Icon size={14} className=\"text-muted-foreground\" />}\n                <span className=\"text-xs font-medium text-foreground uppercase tracking-widest\">{title}</span>\n            </div>\n            <div className=\"p-6 space-y-4\">\n                {children}\n            </div>\n        </div>\n    );\n\n    // Global Settings View (Empty Selection)\n    if (!selectedElement) {\n        return (\n            <aside className=\"w-[320px] flex-shrink-0 border-l bg-background flex flex-col h-full overflow-y-auto\">\n                <div className=\"p-6 border-b flex items-center gap-2\">\n                    <Sliders size={18} />\n                    <h2 className=\"font-semibold text-lg\">Settings</h2>\n                </div>\n\n                <PropertySection title=\"Canvas Dimensions\" icon={Layout}>\n                    <div className=\"space-y-3\">\n                        <div className=\"grid gap-2\">\n                            <Label>Width (px)</Label>\n                            <Input\n                                type=\"number\"\n                                value={canvasSettings.width}\n                                onChange={(e) => handleGlobalChange('width', parseInt(e.target.value))}\n                            />\n                        </div>\n                        <p className=\"text-[0.8rem] text-muted-foreground\">Standard email width is 600px.</p>\n                    </div>\n                </PropertySection>\n\n                <PropertySection title=\"Background\" icon={Palette}>\n                    <div className=\"grid gap-2\">\n                        <Label>Color</Label>\n                        <div className=\"flex gap-2\">\n                            <div className=\"relative w-10 h-10 rounded-md border overflow-hidden shadow-sm shrink-0\">\n                                <input\n                                    type=\"color\"\n                                    value={canvasSettings.backgroundColor}\n                                    onChange={(e) => handleGlobalChange('backgroundColor', e.target.value)}\n                                    className=\"absolute -top-2 -left-2 w-16 h-16 p-0 border-0 cursor-pointer\"\n                                />\n                            </div>\n                            <Input\n                                type=\"text\"\n                                value={canvasSettings.backgroundColor}\n                                onChange={(e) => handleGlobalChange('backgroundColor', e.target.value)}\n                                className=\"font-mono\"\n                            />\n                        </div>\n                    </div>\n                </PropertySection>\n\n                <PropertySection title=\"Global Styles\" icon={Type}>\n                    <div className=\"grid gap-4\">\n                        <div className=\"grid gap-2\">\n                            <Label>Font Family</Label>\n                            <select\n                                className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n                                value={canvasSettings.fontFamily}\n                                onChange={(e) => handleGlobalChange('fontFamily', e.target.value)}\n                            >\n                                <optgroup label=\"Sans Serif\">\n                                    <option value=\"Arial, sans-serif\">Arial</option>\n                                    <option value=\"'Helvetica Neue', Helvetica, sans-serif\">Helvetica</option>\n                                    <option value=\"'Open Sans', sans-serif\">Open Sans</option>\n                                    <option value=\"'Roboto', sans-serif\">Roboto</option>\n                                    <option value=\"Verdana, sans-serif\">Verdana</option>\n                                </optgroup>\n                                <optgroup label=\"Serif\">\n                                    <option value=\"'Times New Roman', Times, serif\">Times New Roman</option>\n                                    <option value=\"Georgia, serif\">Georgia</option>\n                                    <option value=\"'Merriweather', serif\">Merriweather</option>\n                                    <option value=\"'Playfair Display', serif\">Playfair Display</option>\n                                </optgroup>\n                                <optgroup label=\"Monospace\">\n                                    <option value=\"'Courier New', Courier, monospace\">Courier New</option>\n                                </optgroup>\n                            </select>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"grid gap-2\">\n                                <Label>Text Color</Label>\n                                <div className=\"flex gap-2\">\n                                    <div className=\"relative w-8 h-8 rounded border overflow-hidden shrink-0\">\n                                        <input\n                                            type=\"color\"\n                                            value={canvasSettings.textColor || '#000000'}\n                                            onChange={(e) => handleGlobalChange('textColor', e.target.value)}\n                                            className=\"absolute -top-4 -left-4 w-16 h-16 cursor-pointer\"\n                                        />\n                                    </div>\n                                    <Input\n                                        value={canvasSettings.textColor || '#000000'}\n                                        onChange={(e) => handleGlobalChange('textColor', e.target.value)}\n                                        className=\"h-8 font-mono text-xs\"\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"grid gap-2\">\n                                <Label>Link Color</Label>\n                                <div className=\"flex gap-2\">\n                                    <div className=\"relative w-8 h-8 rounded border overflow-hidden shrink-0\">\n                                        <input\n                                            type=\"color\"\n                                            value={canvasSettings.linkColor || '#007bff'}\n                                            onChange={(e) => handleGlobalChange('linkColor', e.target.value)}\n                                            className=\"absolute -top-4 -left-4 w-16 h-16 cursor-pointer\"\n                                        />\n                                    </div>\n                                    <Input\n                                        value={canvasSettings.linkColor || '#007bff'}\n                                        onChange={(e) => handleGlobalChange('linkColor', e.target.value)}\n                                        className=\"h-8 font-mono text-xs\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"grid gap-2\">\n                            <Label>Line Height</Label>\n                            <div className=\"flex items-center gap-4\">\n                                <Input\n                                    type=\"number\"\n                                    step=\"0.1\"\n                                    min=\"1\"\n                                    max=\"3\"\n                                    value={canvasSettings.lineHeight || '1.5'}\n                                    onChange={(e) => handleGlobalChange('lineHeight', e.target.value)}\n                                />\n                                <span className=\"text-xs text-muted-foreground w-12 text-right\">\n                                    {canvasSettings.lineHeight || 1.5}em\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </PropertySection>\n            </aside>\n        );\n    }\n\n    // Selected Element View\n    return (\n        <aside className=\"w-[320px] flex-shrink-0 border-l bg-background flex flex-col h-full overflow-y-auto\">\n            <div className=\"p-6 border-b flex items-center justify-between bg-muted/10\">\n                <h2 className=\"font-semibold text-lg capitalize\">{selectedElement.type}</h2>\n                <span className=\"text-xs text-muted-foreground font-mono bg-muted px-2 py-1 rounded\">\n                    {selectedElement.id.slice(0, 4)}\n                </span>\n            </div>\n\n            {/* Content Configuration */}\n            <PropertySection title=\"Content\" icon={Type}>\n                {selectedElement.type === 'text' && (\n                    <div className=\"grid gap-2\">\n                        <Label>Text Content</Label>\n                        <textarea\n                            value={selectedElement.content.text || ''}\n                            onChange={(e) => handleContentChange('text', e.target.value)}\n                            className=\"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n                        />\n                    </div>\n                )}\n\n                {selectedElement.type === 'button' && (\n                    <div className=\"space-y-4\">\n                        <div className=\"grid gap-2\">\n                            <Label>Button Label</Label>\n                            <Input\n                                type=\"text\"\n                                value={selectedElement.content.label || ''}\n                                onChange={(e) => handleContentChange('label', e.target.value)}\n                            />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label>Link URL</Label>\n                            <div className=\"relative\">\n                                <LinkIcon size={14} className=\"absolute left-3 top-2.5 text-muted-foreground\" />\n                                <Input\n                                    type=\"text\"\n                                    value={selectedElement.content.url || ''}\n                                    onChange={(e) => handleContentChange('url', e.target.value)}\n                                    className=\"pl-9\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {selectedElement.type === 'social' && selectedElement.content.socialLinks && (\n                    <div className=\"space-y-4\">\n                        <Label>Social Networks</Label>\n                        {selectedElement.content.socialLinks.map((link: any, index: number) => (\n                            <div key={index} className=\"grid gap-2 border p-3 rounded-md bg-muted/20\">\n                                <span className=\"text-xs font-semibold capitalize\">{link.network}</span>\n                                <Input\n                                    value={link.url}\n                                    onChange={(e) => {\n                                        const newLinks = [...(selectedElement.content.socialLinks || [])];\n                                        newLinks[index] = { ...newLinks[index], url: e.target.value };\n                                        handleContentChange('socialLinks', newLinks);\n                                    }}\n                                    placeholder={`https://${link.network}.com/...`}\n                                    className=\"h-8 text-xs\"\n                                />\n                            </div>\n                        ))}\n                    </div>\n                )}\n\n                {selectedElement.type === 'image' && (\n                    <div className=\"space-y-4\">\n                        <div className=\"grid gap-2\">\n                            <Label>Image Source</Label>\n                            <div className=\"flex gap-2 items-center\">\n                                {/* Simulated Upload Button */}\n                                <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"w-full\"\n                                    onClick={() => document.getElementById('image-upload')?.click()}\n                                >\n                                    <ImageIcon size={14} className=\"mr-2\" />\n                                    Upload Image\n                                </Button>\n                                <input\n                                    id=\"image-upload\"\n                                    type=\"file\"\n                                    className=\"hidden\"\n                                    accept=\"image/*\"\n                                    onChange={(e) => {\n                                        const file = e.target.files?.[0];\n                                        if (file) {\n                                            // Mock upload - in real app this would call an API\n                                            const url = URL.createObjectURL(file);\n                                            handleContentChange('url', url);\n                                        }\n                                    }}\n                                />\n                            </div>\n                            <div className=\"relative\">\n                                <LinkIcon size={14} className=\"absolute left-3 top-2.5 text-muted-foreground\" />\n                                <Input\n                                    type=\"text\"\n                                    value={selectedElement.content.url || ''}\n                                    onChange={(e) => handleContentChange('url', e.target.value)}\n                                    className=\"pl-9\"\n                                    placeholder=\"Or paste URL...\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"rounded-lg border bg-muted/20 p-4 flex items-center justify-center min-h-[120px]\">\n                            {/* eslint-disable-next-line @next/next/no-img-element */}\n                            <img\n                                src={selectedElement.content.url}\n                                className=\"max-w-full max-h-[150px] object-contain rounded shadow-sm\"\n                                alt=\"preview\"\n                                onError={(e) => { (e.target as HTMLImageElement).src = 'https://via.placeholder.com/150?text=Invalid+Image'; }}\n                            />\n                        </div>\n                        <div className=\"grid gap-2\">\n                            <Label>Alt Text</Label>\n                            <Input\n                                value={selectedElement.content.alt || ''}\n                                onChange={(e) => handleContentChange('alt', e.target.value)}\n                                placeholder=\"Description for accessibility\"\n                            />\n                        </div>\n                    </div>\n                )}\n                {selectedElement.type === 'spacer' && (\n                    <div className=\"grid gap-2\">\n                        <Label>Height</Label>\n                        <Input\n                            type=\"text\"\n                            value={selectedElement.style.height || '32px'}\n                            onChange={(e) => handleStyleChange('height', e.target.value)}\n                            placeholder=\"e.g. 32px\"\n                        />\n                    </div>\n                )}\n\n                {selectedElement.type === 'divider' && (\n                    <div className=\"grid gap-2\">\n                        <Label>Divider Color</Label>\n                        <div className=\"flex gap-2\">\n                            <div className=\"relative w-8 h-8 rounded border overflow-hidden shrink-0\">\n                                <input\n                                    type=\"color\"\n                                    value={selectedElement.style.borderTopColor || '#eeeeee'}\n                                    onChange={(e) => handleStyleChange('borderTopColor', e.target.value)}\n                                    className=\"absolute -top-4 -left-4 w-16 h-16 cursor-pointer\"\n                                />\n                            </div>\n                            <Input\n                                type=\"text\"\n                                value={selectedElement.style.borderTopColor || '#eeeeee'}\n                                onChange={(e) => handleStyleChange('borderTopColor', e.target.value)}\n                                placeholder=\"#eeeeee\"\n                                className=\"font-mono text-xs\"\n                            />\n                        </div>\n                    </div>\n                )}\n            </PropertySection>\n\n            {/* Style Configuration */}\n            <PropertySection title=\"Appearance\" icon={Palette}>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"grid gap-2\">\n                        <Label>Background</Label>\n                        <div className=\"flex gap-2\">\n                            <div className=\"relative w-8 h-8 rounded border overflow-hidden shrink-0\">\n                                <input\n                                    type=\"color\"\n                                    value={selectedElement.style.backgroundColor || '#ffffff'}\n                                    onChange={(e) => handleStyleChange('backgroundColor', e.target.value)}\n                                    className=\"absolute -top-4 -left-4 w-16 h-16 cursor-pointer\"\n                                />\n                            </div>\n                            <Input\n                                value={selectedElement.style.backgroundColor || '#ffffff'}\n                                onChange={(e) => handleStyleChange('backgroundColor', e.target.value)}\n                                className=\"h-8 font-mono text-xs\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"grid gap-2\">\n                        <Label>Text Color</Label>\n                        <div className=\"flex gap-2\">\n                            <div className=\"relative w-8 h-8 rounded border overflow-hidden shrink-0\">\n                                <input\n                                    type=\"color\"\n                                    value={selectedElement.style.color || '#000000'}\n                                    onChange={(e) => handleStyleChange('color', e.target.value)}\n                                    className=\"absolute -top-4 -left-4 w-16 h-16 cursor-pointer\"\n                                />\n                            </div>\n                            <Input\n                                value={selectedElement.style.color || '#000000'}\n                                onChange={(e) => handleStyleChange('color', e.target.value)}\n                                className=\"h-8 font-mono text-xs\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <Separator />\n\n                <div className=\"grid gap-2\">\n                    <Label>Padding</Label>\n                    <Input\n                        type=\"text\"\n                        value={selectedElement.style.padding || '0px'}\n                        onChange={(e) => handleStyleChange('padding', e.target.value)}\n                        placeholder=\"e.g. 10px 20px\"\n                    />\n                </div>\n\n                <div className=\"grid gap-2\">\n                    <Label>Alignment</Label>\n                    <div className=\"flex bg-muted rounded-md p-1\">\n                        {['left', 'center', 'right', 'justify'].map((align) => (\n                            <button\n                                key={align}\n                                onClick={() => handleStyleChange('textAlign', align)}\n                                className={cn(\n                                    \"flex-1 flex items-center justify-center py-1.5 rounded-sm text-muted-foreground transition-all hover:text-foreground\",\n                                    selectedElement.style.textAlign === align && \"bg-background shadow-sm text-foreground\"\n                                )}\n                                title={align.charAt(0).toUpperCase() + align.slice(1)}\n                            >\n                                {align === 'left' && <AlignLeft size={16} />}\n                                {align === 'center' && <AlignCenter size={16} />}\n                                {align === 'right' && <AlignRight size={16} />}\n                                {align === 'justify' && <AlignJustify size={16} />}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n\n                {selectedElement.type === 'button' && (\n                    <div className=\"grid gap-2\">\n                        <Label>Border Radius</Label>\n                        <Input\n                            type=\"text\"\n                            value={selectedElement.style.borderRadius || '0px'}\n                            onChange={(e) => handleStyleChange('borderRadius', e.target.value)}\n                            placeholder=\"e.g. 4px\"\n                        />\n                    </div>\n                )}\n            </PropertySection>\n        </aside>\n    );\n};\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n    \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n    HTMLLabelElement,\n    React.LabelHTMLAttributes<HTMLLabelElement> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n    <label\n        ref={ref}\n        className={cn(labelVariants(), className)}\n        {...props}\n    />\n))\nLabel.displayName = \"Label\"\n\nexport { Label }\n","'use client';\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '@/store';\nimport { addElement, selectElement } from '@/store/editorSlice';\nimport { CanvasElement } from './CanvasElement';\n\nexport const Canvas = () => {\n    const dispatch = useDispatch();\n    const { elements, canvasSettings } = useSelector((state: RootState) => state.editor);\n\n    const [{ isOver }, drop] = useDrop(() => ({\n        accept: 'ELEMENT',\n        drop: (item: any, monitor) => {\n            if (monitor.didDrop()) {\n                return;\n            }\n            dispatch(addElement({ type: item.type }));\n            return undefined;\n        },\n        collect: (monitor) => ({\n            isOver: !!monitor.isOver(),\n        }),\n    }));\n\n    // Handle background click to deselect\n    const handleBackgroundClick = () => {\n        dispatch(selectElement(null));\n    };\n\n    return (\n        <main\n            className=\"flex-1 bg-slate-100/50 p-10 overflow-y-auto flex justify-center relative z-0\"\n            onClick={handleBackgroundClick}\n        >\n            <div className=\"flex flex-col items-center w-full max-w-[1200px] py-12\">\n\n                {/* Canvas Header / Ruler (Optional visual aid) */}\n                <div className=\"text-[10px] text-slate-400 mb-3 font-medium uppercase tracking-widest bg-white/50 px-3 py-1 rounded-full border border-slate-200/50 backdrop-blur-sm\">\n                    Width: {canvasSettings.width}px\n                </div>\n\n                <div\n                    ref={drop as any}\n                    className={`\n            bg-white shadow-[0_20px_50px_-12px_rgba(0,0,0,0.1)] transition-all duration-300 min-h-[800px] flex flex-col relative\n            ${isOver ? 'ring-4 ring-indigo-500/20 scale-[1.01]' : ''}\n            `}\n                    style={{\n                        width: canvasSettings.width,\n                        backgroundColor: canvasSettings.backgroundColor,\n                        fontFamily: canvasSettings.fontFamily,\n                        color: canvasSettings.textColor,\n                        lineHeight: canvasSettings.lineHeight,\n                        maxWidth: '100%'\n                    }}\n                    onClick={(e) => e.stopPropagation()} // Prevent deselecting when clicking canvas area\n                >\n                    {elements.length === 0 ? (\n                        <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\n                            <div className=\"border-2 border-dashed border-slate-200 rounded-xl p-12 flex flex-col items-center text-center max-w-sm mx-auto\">\n                                <div className=\"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4\">\n                                    <span className=\"text-3xl text-slate-300\">+</span>\n                                </div>\n                                <h3 className=\"text-slate-900 font-medium mb-1\">Start Building</h3>\n                                <p className=\"text-slate-500 text-sm\">Drag and drop elements from the left panel to begin designing your newsletter.</p>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"flex flex-col w-full h-full\">\n                            {elements.map((element, index) => (\n                                <CanvasElement key={element.id} element={element} index={index} />\n                            ))}\n                            {/* Spacer at bottom to make dropping easier */}\n                            <div className=\"flex-1 min-h-[50px] transition-colors\" />\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"h-20\"></div> {/* Bottom Scroll Padding */}\n            </div>\n        </main>\n    );\n};\n","'use client';\nimport React from 'react';\nimport { EditorElement } from '@/lib/types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectElement, moveElement, removeElement } from '@/store/editorSlice'; // moveElement action needs to be verified\nimport { RootState } from '@/store';\nimport { Trash2, Facebook, Twitter, Instagram, Linkedin, Share2 } from 'lucide-react';\nimport { ColumnDropZone } from './ColumnDropZone';\n\ninterface CanvasElementProps {\n    element: EditorElement;\n    index: number;\n}\n\nexport const CanvasElement: React.FC<CanvasElementProps> = ({ element, index }) => {\n    const dispatch = useDispatch();\n    const selectedId = useSelector((state: RootState) => state.editor.selectedElementId);\n    const isSelected = selectedId === element.id;\n\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    const [{ handlerId }, drop] = useDrop({\n        accept: 'CANVAS_ELEMENT',\n        collect(monitor) {\n            return {\n                handlerId: monitor.getHandlerId(),\n            };\n        },\n        hover(item: any, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            const dragIndex = item.index;\n            const hoverIndex = index;\n\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n\n            dispatch(moveElement({ dragIndex, hoverIndex }));\n            item.index = hoverIndex;\n        },\n    });\n\n    const [{ isDragging }, drag] = useDrag({\n        type: 'CANVAS_ELEMENT',\n        item: () => {\n            return { id: element.id, index };\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n\n    // eslint-disable-next-line react-hooks/refs\n    drag(drop(ref));\n\n    const handleClick = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        dispatch(selectElement(element.id));\n    };\n\n    const handleDelete = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        dispatch(removeElement(element.id));\n    };\n\n    // Render content based on type\n    const renderContent = () => {\n        switch (element.type) {\n            case 'text':\n                return <p style={{ fontSize: 'inherit', color: 'inherit' }}>{element.content.text}</p>;\n            case 'button':\n                return <a href={element.content.url} style={{ display: 'block', textDecoration: 'none', color: 'inherit' }}>{element.content.label}</a>;\n            case 'image':\n                // eslint-disable-next-line @next/next/no-img-element\n                return <img src={element.content.url} alt={element.content.alt} style={{ maxWidth: '100%', display: 'block' }} />;\n            case 'divider':\n                return <hr style={{\n                    borderTopWidth: element.style.borderTopWidth || '1px',\n                    borderTopColor: element.style.borderTopColor || '#eeeeee',\n                    borderTopStyle: element.style.borderTopStyle || 'solid'\n                }} />;\n            case 'spacer':\n                return <div style={{ height: element.style.height || '32px' }}></div>;\n            case 'social':\n                return (\n                    <div className=\"flex gap-2 justify-center\">\n                        {element.content.socialLinks?.map((link, i) => {\n                            const iconSize = 24;\n                            const color = element.style.color || '#374151'; // Default gray-700\n                            switch (link.network) {\n                                case 'facebook': return <Facebook key={i} size={iconSize} color={color} />;\n                                case 'twitter': return <Twitter key={i} size={iconSize} color={color} />;\n                                case 'instagram': return <Instagram key={i} size={iconSize} color={color} />;\n                                case 'linkedin': return <Linkedin key={i} size={iconSize} color={color} />;\n                                default: return <Share2 key={i} size={iconSize} color={color} />;\n                            }\n                        })}\n                        {(!element.content.socialLinks || element.content.socialLinks.length === 0) && (\n                            <span className=\"text-slate-400 italic text-sm\">No social links</span>\n                        )}\n                    </div>\n                );\n            case 'columns':\n            case 'columns-3':\n                return (\n                    <div className=\"flex w-full\" style={{ gap: '0' }}>\n                        {element.content.columns?.map((col, i) => (\n                            <ColumnDropZone\n                                key={col.id}\n                                parentId={element.id}\n                                columnId={col.id}\n                                elements={col.elements}\n                            />\n                        ))}\n                    </div>\n                );\n                return <div>Unknown Element</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={ref}\n            onClick={handleClick}\n            data-handler-id={handlerId}\n            className={`\n        relative group\n        ${isSelected ? 'ring-2 ring-blue-500 z-10' : 'hover:ring-1 hover:ring-blue-300'}\n        cursor-pointer\n        transition-all\n      `}\n            style={{\n                opacity: isDragging ? 0.3 : 1,\n                ...element.style // Apply user styles\n            }}\n        >\n            {isSelected && (\n                <div className=\"absolute -top-3 -right-3 bg-white shadow-md rounded-full p-1 cursor-pointer z-50 group-hover:block\"\n                    onClick={handleDelete}>\n                    <Trash2 size={14} className=\"text-red-500\" />\n                </div>\n            )}\n\n            {renderContent()}\n        </div>\n    );\n};\n","import React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useDispatch } from 'react-redux';\nimport { addElement, selectElement } from '@/store/editorSlice';\nimport { CanvasElement } from './CanvasElement';\nimport { EditorElement } from '@/lib/types';\n\ninterface ColumnDropZoneProps {\n    parentId: string;\n    columnId: string;\n    elements: EditorElement[];\n}\n\nexport const ColumnDropZone: React.FC<ColumnDropZoneProps> = ({ parentId, columnId, elements }) => {\n    const dispatch = useDispatch();\n\n    const [{ isOver, canDrop }, drop] = useDrop(() => ({\n        accept: 'ELEMENT',\n        drop: (item: any, monitor) => {\n            if (monitor.didDrop()) {\n                return;\n            }\n            dispatch(addElement({ type: item.type, parentId, columnId }));\n            return { droppedInColumn: true };\n        },\n        collect: (monitor) => ({\n            isOver: !!monitor.isOver(),\n            canDrop: !!monitor.canDrop(),\n        }),\n    }));\n\n    return (\n        <div\n            ref={drop as any}\n            className={`flex-1 min-h-[50px] p-2 transition-colors flex flex-col gap-2\n                ${isOver ? 'bg-indigo-50 border-2 border-indigo-300 border-dashed ring-2 ring-indigo-200' : 'bg-transparent border border-dashed border-gray-200'}\n                ${elements.length === 0 ? 'items-center justify-center' : ''}\n            `}\n        >\n            {elements.length === 0 ? (\n                <div className=\"text-xs text-muted-foreground pointer-events-none\">\n                    Drop here\n                </div>\n            ) : (\n                elements.map((el, index) => (\n                    // Note: We might need to pass context that this is nested if we want nested sorting later\n                    <CanvasElement key={el.id} element={el} index={index} />\n                ))\n            )}\n        </div>\n    );\n};\n"],"mappings":"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","names":["React","jsx","React","jsx","jsx","React","jsx","jsx","jsxs","jsx","jsxs","useDispatch","useSelector","Type","React","cva","jsx","cva","jsx","jsxs","useDispatch","useSelector","Type","useDrop","useDispatch","useSelector","React","useDrag","useDrop","useDispatch","useSelector","Share2","useDispatch","jsx","useDispatch","jsx","jsxs","useDispatch","useSelector","React","useDrop","useDrag","Share2","jsx","jsxs","useDispatch","useSelector","useDrop","jsx","jsxs"]}